{% extends 'base.html' %}
{% load static %}
{% block content %}
<br>
<br>
<br>
<br>
<br>
<div class="general-grid">
  {% for item in t_contrib %}
  <div class="thumbnail-preview">
    <div class="thumbnail-row">
      <img class="pic-1" src="{{item.td_photo_logo.url}}">
    </div>
    <div class="uplift-info-grid">
      <div class="chanel-pic">
        <img class="profile" src="{% static 'images/anonymous.png' %}">
      </div>
      <div class="uplift-info">
        <p class="uplift-title">Item : {{item.td_item_name}}</p>
        <p>Username: {{item.td_name}}</p>
        <p class="uplift-stats">Issue date: {{item.td_date}}</p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        Phasellus imperdiet, nulla et dictum interdum, nisi lorem
        <span class="dots">...</span>
        <span class="more">erisque enim ligula venenatis dolor. Maecenas nisl est, ultrices nec congue eget, auctor
          vitae massa. Fusce luctus vestibulum augue ut aliquet. Nunc sagittis dictum nisi, sed ullamcorper ipsum
          dignissim ac. In at libero sed nunc venenatis imperdiet sed ornare turpis. Donec vitae dui eget tellus gravida
          venenatis. Integer fringilla congue eros non fermentum. Sed dapibus pulvinar nibh tempor porta.</span>
        <button class="myBtn">Read more</button>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    document.querySelectorAll('.myBtn').forEach(function (button) {
      button.addEventListener('click', function () {
        const parent = this.closest('.uplift-info');
        const dots = parent.querySelector('.dots');
        const moreText = parent.querySelector('.more');
        const btnText = this;

        if (moreText.style.display === "none" || moreText.style.display === "") {
          dots.style.display = "none";
          btnText.innerHTML = "Read less";
          moreText.style.display = "inline";
        } else {
          dots.style.display = "inline";
          btnText.innerHTML = "Read more";
          moreText.style.display = "none";
        }
      });
    });
  });
</script>
{% endblock %}